---
http_interactions:
- request:
    method: get
    uri: http://localhost:8183/v3/users?name=auth_testuser&page=1&per_page=30
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - fog/1.28.0 fog-core/1.29.0
      Content-Type:
      - application/json
      Accept:
      - application/json
      X-Auth-Token:
      - eb90789795f645a8b8e1274be35371a8
  response:
    status:
      code: 200
      message: ''
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - '"5bc4f24203940649b1ad8b86400443f3"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - d0de664e-ada0-45bd-b0d4-ed9f4ba878ce
      X-Runtime:
      - '0.020605'
      Server:
      - WEBrick/1.3.1 (Ruby/1.9.3/2013-01-15)
      Date:
      - Wed, 01 Apr 2015 13:19:21 GMT
      Content-Length:
      - '409'
      Connection:
      - Keep-Alive
      Set-Cookie:
      - _monsoon_authority_session=RmxpTllCSHVHcnlNYnhZWVBJZThJVFZCOWZGSExEdTlIQXg5dUJFR1Zja3JBV25CQjZCc29QQlVmS0NKNjVsYkVNdCtaSVBpZEYyQ0pLcXc5YXg0V3c9PS0tSXpmaWIrWWZlZTNDNnRSdG9FY3Vidz09--8b02f8d1203bab4d95f8f5e22a3e02d25b63443f;
        path=/; HttpOnly
    body:
      encoding: UTF-8
      string: '{"users":[{"id":"u-1c2a5acd0","name":"auth_testuser","description":null,"email":"test@example.com","enabled":true,"domain_id":"default","default_project_id":null,"links":{"self":"http://localhost:8183/v3/users/auth_testuser"},"domain":{"id":"default","name":"default","links":{"self":"http://localhost:8183/v3/domains/default"}}}],"links":{"self":"http://localhost:8183/v3/users","next":null,"previous":null}}'
    http_version: 
  recorded_at: Wed, 01 Apr 2015 13:19:21 GMT
- request:
    method: post
    uri: http://localhost:8183/v3/auth/tokens
    body:
      encoding: UTF-8
      string: '{"auth":{"identity":{"methods":["password"],"password":{"user":{"id":"u-1c2a5acd0","password":"secret"}}}}}'
    headers:
      User-Agent:
      - fog/1.28.0 fog-core/1.29.0
      Content-Type:
      - application/json
      Accept:
      - application/json
      X-Auth-Token:
      - eb90789795f645a8b8e1274be35371a8
  response:
    status:
      code: 201
      message: ''
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Subject-Token:
      - 8a34c2e361844691a3629ef8e0d52309
      X-Monsoon-User:
      - auth_testuser
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - '"b443fbab7d7aa7a9d822db20c8411af1"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - cd6ffba6-f168-45f2-894e-ad3f4b79b90d
      X-Runtime:
      - '0.144590'
      Server:
      - WEBrick/1.3.1 (Ruby/1.9.3/2013-01-15)
      Date:
      - Wed, 01 Apr 2015 13:19:21 GMT
      Content-Length:
      - '6404'
      Connection:
      - Keep-Alive
      Set-Cookie:
      - _monsoon_authority_session=WThDNDhyY3dRbVR5ZEtrVjQrNmUraXRwUndsVWRZWFFRVHorNGFDejBnbnRQZmdpbkxBVDNEYTkvT25zeFNadkNVWkFvZFNSOHBkS2pDbVVsaHJGZmc9PS0tcGpOUjV1L0pOMTIyTGVEeEVZVVBRdz09--48027b37cb35488a36c26a4e5000139db9786979;
        path=/; HttpOnly
    body:
      encoding: UTF-8
      string: '{"token":{"expires_at":"2015-04-01T14:19:21.585Z","issued_at":"2015-04-01T13:19:21.584Z","methods":["password"],"user":{"id":"u-1c2a5acd0","name":"auth_testuser","description":null,"email":"test@example.com","enabled":true,"domain_id":"default","default_project_id":null,"links":{"self":"http://localhost:8183/v3/users/auth_testuser"},"domain":{"id":"default","name":"default","links":{"self":"http://localhost:8183/v3/domains/default"}}},"domain":{"uri":"/domains/default","id":"default","name":"default","description":"Default","enabled":true,"links":{"self":"http://localhost:8183/v3/domains/default"}},"catalog":[{"uri":"/services/s-0855485d5","id":"s-0855485d5","name":"authority-internal-prod","description":"","type":"identity","links":{"self":"http://localhost:8183/v3/services/s-0855485d5"},"endpoints":[{"uri":"/endpoints/e-16fd629f7","id":"e-16fd629f7","name":"authority_private","interface":"internal","region":null,"url":"https://localhost/private/api","enabled":true,"region_id":null,"service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-16fd629f7"}},{"uri":"/endpoints/e-01bc74211","id":"e-01bc74211","name":"keystone-admin-v2.0","interface":"admin","region":"asia_pac","url":"http://localhost:8183/v2.0","enabled":true,"region_id":"asia_pac","service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-01bc74211"}},{"uri":"/endpoints/e-062f2bc8e","id":"e-062f2bc8e","name":"keystone-public-v2.0","interface":"public","region":"europe","url":"http://localhost:8183/v2.0","enabled":true,"region_id":"europe","service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-062f2bc8e"}},{"uri":"/endpoints/e-0f2cd3f03","id":"e-0f2cd3f03","name":"keystone-internal-v2.0","interface":"internal","region":"europe","url":"http://localhost:8183/v2.0","enabled":true,"region_id":"europe","service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-0f2cd3f03"}},{"uri":"/endpoints/e-60100a86c","id":"e-60100a86c","name":"keystone-admin-v2.0","interface":"admin","region":"europe","url":"http://localhost:8183/v2.0","enabled":true,"region_id":"europe","service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-60100a86c"}},{"uri":"/endpoints/e-0ff4d41b2","id":"e-0ff4d41b2","name":"keystone-public-v2.0","interface":"public","region":"us","url":"http://localhost:8183/v2.0","enabled":true,"region_id":"us","service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-0ff4d41b2"}},{"uri":"/endpoints/e-90d367262","id":"e-90d367262","name":"keystone-internal-v2.0","interface":"internal","region":"us","url":"http://localhost:8183/v2.0","enabled":true,"region_id":"us","service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-90d367262"}},{"uri":"/endpoints/e-844939572","id":"e-844939572","name":"keystone-admin-v2.0","interface":"admin","region":"us","url":"http://localhost:8183/v2.0","enabled":true,"region_id":"us","service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-844939572"}},{"uri":"/endpoints/e-05592af04","id":"e-05592af04","name":"keystone-public-v2.0","interface":"public","region":"asia_pac","url":"http://localhost:8183/v2.0","enabled":true,"region_id":"asia_pac","service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-05592af04"}},{"uri":"/endpoints/e-b2791cc9f","id":"e-b2791cc9f","name":"keystone-internal-v2.0","interface":"internal","region":"asia_pac","url":"http://localhost:8183/v2.0","enabled":true,"region_id":"asia_pac","service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-b2791cc9f"}}]},{"uri":"/services/s-6043f13a1","id":"s-6043f13a1","name":"identity_v3","description":"Monsoon
        Keystone V3 Service","type":"identity_v3","links":{"self":"http://localhost:8183/v3/services/s-6043f13a1"},"endpoints":[{"uri":"/endpoints/e-d30861ac8","id":"e-d30861ac8","name":"keystone-public-v3","interface":"public","region":"europe","url":"http://localhost:8183/v3","enabled":true,"region_id":"europe","service_id":"s-6043f13a1","links":{"self":"http://localhost:8183/v3/endpoints/e-d30861ac8"}},{"uri":"/endpoints/e-49bc54cb5","id":"e-49bc54cb5","name":"keystone-internal-v3","interface":"internal","region":"europe","url":"http://localhost:8183/v3","enabled":true,"region_id":"europe","service_id":"s-6043f13a1","links":{"self":"http://localhost:8183/v3/endpoints/e-49bc54cb5"}},{"uri":"/endpoints/e-4c01e6528","id":"e-4c01e6528","name":"keystone-admin-v3","interface":"admin","region":"europe","url":"http://localhost:8183/v3","enabled":true,"region_id":"europe","service_id":"s-6043f13a1","links":{"self":"http://localhost:8183/v3/endpoints/e-4c01e6528"}},{"uri":"/endpoints/e-e6931c5f7","id":"e-e6931c5f7","name":"keystone-public-v3","interface":"public","region":"us","url":"http://localhost:8183/v3","enabled":true,"region_id":"us","service_id":"s-6043f13a1","links":{"self":"http://localhost:8183/v3/endpoints/e-e6931c5f7"}},{"uri":"/endpoints/e-5e8ee4e17","id":"e-5e8ee4e17","name":"keystone-internal-v3","interface":"internal","region":"us","url":"http://localhost:8183/v3","enabled":true,"region_id":"us","service_id":"s-6043f13a1","links":{"self":"http://localhost:8183/v3/endpoints/e-5e8ee4e17"}},{"uri":"/endpoints/e-6c071160a","id":"e-6c071160a","name":"keystone-admin-v3","interface":"admin","region":"us","url":"http://localhost:8183/v3","enabled":true,"region_id":"us","service_id":"s-6043f13a1","links":{"self":"http://localhost:8183/v3/endpoints/e-6c071160a"}},{"uri":"/endpoints/e-c5032fdc3","id":"e-c5032fdc3","name":"keystone-public-v3","interface":"public","region":"asia_pac","url":"http://localhost:8183/v3","enabled":true,"region_id":"asia_pac","service_id":"s-6043f13a1","links":{"self":"http://localhost:8183/v3/endpoints/e-c5032fdc3"}},{"uri":"/endpoints/e-971a8ec42","id":"e-971a8ec42","name":"keystone-internal-v3","interface":"internal","region":"asia_pac","url":"http://localhost:8183/v3","enabled":true,"region_id":"asia_pac","service_id":"s-6043f13a1","links":{"self":"http://localhost:8183/v3/endpoints/e-971a8ec42"}},{"uri":"/endpoints/e-92f2b36a4","id":"e-92f2b36a4","name":"keystone-admin-v3","interface":"admin","region":"asia_pac","url":"http://localhost:8183/v3","enabled":true,"region_id":"asia_pac","service_id":"s-6043f13a1","links":{"self":"http://localhost:8183/v3/endpoints/e-92f2b36a4"}}]}]}}'
    http_version: 
  recorded_at: Wed, 01 Apr 2015 13:19:21 GMT
- request:
    method: get
    uri: http://localhost:8183/v3/auth/tokens
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - fog/1.28.0 fog-core/1.29.0
      Content-Type:
      - application/json
      Accept:
      - application/json
      X-Auth-Token:
      - eb90789795f645a8b8e1274be35371a8
      X-Subject-Token:
      - INVALID_TOKEN
  response:
    status:
      code: 404
      message: ''
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      Content-Type:
      - application/json; charset=utf-8
      Cache-Control:
      - no-cache
      X-Request-Id:
      - af8a815b-fdde-4179-8393-c478d7c14c19
      X-Runtime:
      - '0.026683'
      Server:
      - WEBrick/1.3.1 (Ruby/1.9.3/2013-01-15)
      Date:
      - Wed, 01 Apr 2015 13:19:21 GMT
      Content-Length:
      - '68'
      Connection:
      - Keep-Alive
      Set-Cookie:
      - _monsoon_authority_session=VFNnaDZxTTR2YWlCV3J2T3ZDdXdCWWltUmdOZDRBK3FBMXhMMmc3S0E2QnNLUStoOE9OQWg1QkRnQ3pWMG9idVhDb1JLVEJhbTZzNDJuVGJSeHdINnc9PS0tZnkwNVlKOHFuRVArckJnUXltY0FEQT09--774cb2d2fe137709f9062c94fab8cf498cdba2fb;
        path=/; HttpOnly
    body:
      encoding: UTF-8
      string: '{"error":{"code":404,"message":"Invalid token","title":"Not Found"}}'
    http_version: 
  recorded_at: Wed, 01 Apr 2015 13:19:21 GMT
- request:
    method: post
    uri: http://localhost:8183/v3/auth/tokens
    body:
      encoding: UTF-8
      string: '{"auth":{"identity":{"methods":["password"],"password":{"user":{"id":"u-1c2a5acd0","password":"secret"}}}}}'
    headers:
      User-Agent:
      - fog/1.28.0 fog-core/1.29.0
      Content-Type:
      - application/json
      Accept:
      - application/json
      X-Auth-Token:
      - 8a34c2e361844691a3629ef8e0d52309
  response:
    status:
      code: 201
      message: ''
    headers:
      X-Frame-Options:
      - SAMEORIGIN
      X-Xss-Protection:
      - 1; mode=block
      X-Content-Type-Options:
      - nosniff
      X-Subject-Token:
      - b841e87b9ccb471e8e7baf67146c6b07
      X-Monsoon-User:
      - auth_testuser
      Content-Type:
      - application/json; charset=utf-8
      Etag:
      - '"d72303c171da8249db312c8ec225a726"'
      Cache-Control:
      - max-age=0, private, must-revalidate
      X-Request-Id:
      - 953c6fae-6f41-4004-816f-ce9012ac4f35
      X-Runtime:
      - '0.094127'
      Server:
      - WEBrick/1.3.1 (Ruby/1.9.3/2013-01-15)
      Date:
      - Wed, 01 Apr 2015 13:22:38 GMT
      Content-Length:
      - '6404'
      Connection:
      - Keep-Alive
      Set-Cookie:
      - _monsoon_authority_session=YzFVVXF3dEVpeFhJUzVKTjRhOVpLeklzQmxTZlp2dytTQnNSUmxEY2JFby90N0pOT1k2dm9YazhKY0kvR0duT2N1QWhzcm1MaVdjaVUrdUU2L1JvNkNQMFRkRWdFbDRWV1RyTm0zTDZKSVk9LS16QW1CYUpuQjRQT0hrRSt6a2dqbHVRPT0%3D--0d4aec12888ce46b179e7538cdc3a0257d000000;
        path=/; HttpOnly
    body:
      encoding: UTF-8
      string: '{"token":{"expires_at":"2015-04-01T14:22:37.947Z","issued_at":"2015-04-01T13:22:37.947Z","methods":["password"],"user":{"id":"u-1c2a5acd0","name":"auth_testuser","description":null,"email":"test@example.com","enabled":true,"domain_id":"default","default_project_id":null,"links":{"self":"http://localhost:8183/v3/users/auth_testuser"},"domain":{"id":"default","name":"default","links":{"self":"http://localhost:8183/v3/domains/default"}}},"domain":{"uri":"/domains/default","id":"default","name":"default","description":"Default","enabled":true,"links":{"self":"http://localhost:8183/v3/domains/default"}},"catalog":[{"uri":"/services/s-0855485d5","id":"s-0855485d5","name":"authority-internal-prod","description":"","type":"identity","links":{"self":"http://localhost:8183/v3/services/s-0855485d5"},"endpoints":[{"uri":"/endpoints/e-16fd629f7","id":"e-16fd629f7","name":"authority_private","interface":"internal","region":null,"url":"https://localhost/private/api","enabled":true,"region_id":null,"service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-16fd629f7"}},{"uri":"/endpoints/e-01bc74211","id":"e-01bc74211","name":"keystone-admin-v2.0","interface":"admin","region":"asia_pac","url":"http://localhost:8183/v2.0","enabled":true,"region_id":"asia_pac","service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-01bc74211"}},{"uri":"/endpoints/e-062f2bc8e","id":"e-062f2bc8e","name":"keystone-public-v2.0","interface":"public","region":"europe","url":"http://localhost:8183/v2.0","enabled":true,"region_id":"europe","service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-062f2bc8e"}},{"uri":"/endpoints/e-0f2cd3f03","id":"e-0f2cd3f03","name":"keystone-internal-v2.0","interface":"internal","region":"europe","url":"http://localhost:8183/v2.0","enabled":true,"region_id":"europe","service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-0f2cd3f03"}},{"uri":"/endpoints/e-60100a86c","id":"e-60100a86c","name":"keystone-admin-v2.0","interface":"admin","region":"europe","url":"http://localhost:8183/v2.0","enabled":true,"region_id":"europe","service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-60100a86c"}},{"uri":"/endpoints/e-0ff4d41b2","id":"e-0ff4d41b2","name":"keystone-public-v2.0","interface":"public","region":"us","url":"http://localhost:8183/v2.0","enabled":true,"region_id":"us","service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-0ff4d41b2"}},{"uri":"/endpoints/e-90d367262","id":"e-90d367262","name":"keystone-internal-v2.0","interface":"internal","region":"us","url":"http://localhost:8183/v2.0","enabled":true,"region_id":"us","service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-90d367262"}},{"uri":"/endpoints/e-844939572","id":"e-844939572","name":"keystone-admin-v2.0","interface":"admin","region":"us","url":"http://localhost:8183/v2.0","enabled":true,"region_id":"us","service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-844939572"}},{"uri":"/endpoints/e-05592af04","id":"e-05592af04","name":"keystone-public-v2.0","interface":"public","region":"asia_pac","url":"http://localhost:8183/v2.0","enabled":true,"region_id":"asia_pac","service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-05592af04"}},{"uri":"/endpoints/e-b2791cc9f","id":"e-b2791cc9f","name":"keystone-internal-v2.0","interface":"internal","region":"asia_pac","url":"http://localhost:8183/v2.0","enabled":true,"region_id":"asia_pac","service_id":"s-0855485d5","links":{"self":"http://localhost:8183/v3/endpoints/e-b2791cc9f"}}]},{"uri":"/services/s-6043f13a1","id":"s-6043f13a1","name":"identity_v3","description":"Monsoon
        Keystone V3 Service","type":"identity_v3","links":{"self":"http://localhost:8183/v3/services/s-6043f13a1"},"endpoints":[{"uri":"/endpoints/e-d30861ac8","id":"e-d30861ac8","name":"keystone-public-v3","interface":"public","region":"europe","url":"http://localhost:8183/v3","enabled":true,"region_id":"europe","service_id":"s-6043f13a1","links":{"self":"http://localhost:8183/v3/endpoints/e-d30861ac8"}},{"uri":"/endpoints/e-49bc54cb5","id":"e-49bc54cb5","name":"keystone-internal-v3","interface":"internal","region":"europe","url":"http://localhost:8183/v3","enabled":true,"region_id":"europe","service_id":"s-6043f13a1","links":{"self":"http://localhost:8183/v3/endpoints/e-49bc54cb5"}},{"uri":"/endpoints/e-4c01e6528","id":"e-4c01e6528","name":"keystone-admin-v3","interface":"admin","region":"europe","url":"http://localhost:8183/v3","enabled":true,"region_id":"europe","service_id":"s-6043f13a1","links":{"self":"http://localhost:8183/v3/endpoints/e-4c01e6528"}},{"uri":"/endpoints/e-e6931c5f7","id":"e-e6931c5f7","name":"keystone-public-v3","interface":"public","region":"us","url":"http://localhost:8183/v3","enabled":true,"region_id":"us","service_id":"s-6043f13a1","links":{"self":"http://localhost:8183/v3/endpoints/e-e6931c5f7"}},{"uri":"/endpoints/e-5e8ee4e17","id":"e-5e8ee4e17","name":"keystone-internal-v3","interface":"internal","region":"us","url":"http://localhost:8183/v3","enabled":true,"region_id":"us","service_id":"s-6043f13a1","links":{"self":"http://localhost:8183/v3/endpoints/e-5e8ee4e17"}},{"uri":"/endpoints/e-6c071160a","id":"e-6c071160a","name":"keystone-admin-v3","interface":"admin","region":"us","url":"http://localhost:8183/v3","enabled":true,"region_id":"us","service_id":"s-6043f13a1","links":{"self":"http://localhost:8183/v3/endpoints/e-6c071160a"}},{"uri":"/endpoints/e-c5032fdc3","id":"e-c5032fdc3","name":"keystone-public-v3","interface":"public","region":"asia_pac","url":"http://localhost:8183/v3","enabled":true,"region_id":"asia_pac","service_id":"s-6043f13a1","links":{"self":"http://localhost:8183/v3/endpoints/e-c5032fdc3"}},{"uri":"/endpoints/e-971a8ec42","id":"e-971a8ec42","name":"keystone-internal-v3","interface":"internal","region":"asia_pac","url":"http://localhost:8183/v3","enabled":true,"region_id":"asia_pac","service_id":"s-6043f13a1","links":{"self":"http://localhost:8183/v3/endpoints/e-971a8ec42"}},{"uri":"/endpoints/e-92f2b36a4","id":"e-92f2b36a4","name":"keystone-admin-v3","interface":"admin","region":"asia_pac","url":"http://localhost:8183/v3","enabled":true,"region_id":"asia_pac","service_id":"s-6043f13a1","links":{"self":"http://localhost:8183/v3/endpoints/e-92f2b36a4"}}]}]}}'
    http_version: 
  recorded_at: Wed, 01 Apr 2015 13:22:38 GMT
recorded_with: VCR 2.9.3

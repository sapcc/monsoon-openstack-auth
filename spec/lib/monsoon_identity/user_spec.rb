require 'spec_helper'

module MonsoonIdentity
  describe User do
    token = {expires_at:"2015-03-20T161816.189Z", issued_at:"2015-03-20T151816.189Z", methods:["token"], user:{"id"=>"u-b2af29b6c", "name"=>"C5203501", "description"=>"Pfau", "email"=>"andreas.pfau@sap.com", "enabled"=>true, "domain_id"=>nil, "default_project_id"=>nil, "links"=>{"self"=>"http//localhost8183/v3/users/C5203501"}}, "domain"=>{"uri"=>"/domains/o-62c95eea8", "id"=>"o-62c95eea8", "name"=>"my_new_organization", "description"=>"", "enabled"=>true, "links"=>{"self"=>"http//localhost8183/v3/domains/o-62c95eea8"}}, roles:[{"id"=>"r-43f6a2933", "links"=>{"self"=>"http//localhost8183/v3/roles/r-43f6a2933"}, "name"=>"admin"}], catalog:[{"uri"=>"/services/s-0855485d5", "id"=>"s-0855485d5", "name"=>"authority-internal-prod", "description"=>"", "type"=>"identity", "links"=>{"self"=>"http//localhost8183/v3/services/s-0855485d5"}, "endpoints"=>[{"uri"=>"/endpoints/e-16fd629f7", "id"=>"e-16fd629f7", "name"=>"authority_private", "interface"=>"internal", "region"=>nil, "url"=>"https//localhost/private/api", "enabled"=>true, "region_id"=>nil, "service_id"=>"s-0855485d5", "links"=>{"self"=>"http//localhost8183/v3/endpoints/e-16fd629f7"}}, {"uri"=>"/endpoints/e-062f2bc8e", "id"=>"e-062f2bc8e", "name"=>"keystone-public-v2.0", "interface"=>"public", "region"=>"europe", "url"=>"http//localhost8183/v3", "enabled"=>true, "region_id"=>"europe", "service_id"=>"s-0855485d5", "links"=>{"self"=>"http//localhost8183/v3/endpoints/e-062f2bc8e"}}, {"uri"=>"/endpoints/e-0f2cd3f03", "id"=>"e-0f2cd3f03", "name"=>"keystone-internal-v2.0", "interface"=>"internal", "region"=>"europe", "url"=>"http//localhost8183/v3", "enabled"=>true, "region_id"=>"europe", "service_id"=>"s-0855485d5", "links"=>{"self"=>"http//localhost8183/v3/endpoints/e-0f2cd3f03"}}, {"uri"=>"/endpoints/e-60100a86c", "id"=>"e-60100a86c", "name"=>"keystone-admin-v2.0", "interface"=>"admin", "region"=>"europe", "url"=>"http//localhost8183/v3", "enabled"=>true, "region_id"=>"europe", "service_id"=>"s-0855485d5", "links"=>{"self"=>"http//localhost8183/v3/endpoints/e-60100a86c"}}, {"uri"=>"/endpoints/e-0ff4d41b2", "id"=>"e-0ff4d41b2", "name"=>"keystone-public-v2.0", "interface"=>"public", "region"=>"us", "url"=>"http//localhost8183/v3", "enabled"=>true, "region_id"=>"us", "service_id"=>"s-0855485d5", "links"=>{"self"=>"http//localhost8183/v3/endpoints/e-0ff4d41b2"}}, {"uri"=>"/endpoints/e-90d367262", "id"=>"e-90d367262", "name"=>"keystone-internal-v2.0", "interface"=>"internal", "region"=>"us", "url"=>"http//localhost8183/v3", "enabled"=>true, "region_id"=>"us", "service_id"=>"s-0855485d5", "links"=>{"self"=>"http//localhost8183/v3/endpoints/e-90d367262"}}, {"uri"=>"/endpoints/e-844939572", "id"=>"e-844939572", "name"=>"keystone-admin-v2.0", "interface"=>"admin", "region"=>"us", "url"=>"http//localhost8183/v3", "enabled"=>true, "region_id"=>"us", "service_id"=>"s-0855485d5", "links"=>{"self"=>"http//localhost8183/v3/endpoints/e-844939572"}}]}, {"uri"=>"/services/s-6043f13a1", "id"=>"s-6043f13a1", "name"=>"identity_v3", "description"=>"Monsoon Keystone V3 Service", "type"=>"identity_v3", "links"=>{"self"=>"http//localhost8183/v3/services/s-6043f13a1"}, "endpoints"=>[{"uri"=>"/endpoints/e-d30861ac8", "id"=>"e-d30861ac8", "name"=>"keystone-public-v3", "interface"=>"public", "region"=>"europe", "url"=>"http//localhost8183/v3", "enabled"=>true, "region_id"=>"europe", "service_id"=>"s-6043f13a1", "links"=>{"self"=>"http//localhost8183/v3/endpoints/e-d30861ac8"}}, {"uri"=>"/endpoints/e-49bc54cb5", "id"=>"e-49bc54cb5", "name"=>"keystone-internal-v3", "interface"=>"internal", "region"=>"europe", "url"=>"http//localhost8183/v3", "enabled"=>true, "region_id"=>"europe", "service_id"=>"s-6043f13a1", "links"=>{"self"=>"http//localhost8183/v3/endpoints/e-49bc54cb5"}}, {"uri"=>"/endpoints/e-4c01e6528", "id"=>"e-4c01e6528", "name"=>"keystone-admin-v3", "interface"=>"admin", "region"=>"europe", "url"=>"http//localhost8183/v3", "enabled"=>true, "region_id"=>"europe", "service_id"=>"s-6043f13a1", "links"=>{"self"=>"http//localhost8183/v3/endpoints/e-4c01e6528"}}, {"uri"=>"/endpoints/e-e6931c5f7", "id"=>"e-e6931c5f7", "name"=>"keystone-public-v3", "interface"=>"public", "region"=>"us", "url"=>"http//localhost8183/v3", "enabled"=>true, "region_id"=>"us", "service_id"=>"s-6043f13a1", "links"=>{"self"=>"http//localhost8183/v3/endpoints/e-e6931c5f7"}}, {"uri"=>"/endpoints/e-5e8ee4e17", "id"=>"e-5e8ee4e17", "name"=>"keystone-internal-v3", "interface"=>"internal", "region"=>"us", "url"=>"http//localhost8183/v3", "enabled"=>true, "region_id"=>"us", "service_id"=>"s-6043f13a1", "links"=>{"self"=>"http//localhost8183/v3/endpoints/e-5e8ee4e17"}}, {"uri"=>"/endpoints/e-6c071160a", "id"=>"e-6c071160a", "name"=>"keystone-admin-v3", "interface"=>"admin", "region"=>"us", "url"=>"http//localhost8183/v3", "enabled"=>true, "region_id"=>"us", "service_id"=>"s-6043f13a1", "links"=>{"self"=>"http//localhost8183/v3/endpoints/e-6c071160a"}}]}], value:"1c243b5be917409cb2d7739bbde15c61"}
  
    describe "initialize" do
      it "should create a new user object from token" do
        user = User.new(token)
        expect(user).not_to be(nil) 
      end
    end
  end
end